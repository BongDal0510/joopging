<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>아이디 찾기 SMS인증 페이지</title>
    <link rel="stylesheet" href="/css/main.css" type="text/css"/>
    <link rel="shortcut icon" href="/images/faviconWhite.ico">
    <link rel="icon" href="/images/faviconWhite.ico">
</head>
<style>
    /* Button */

    input[type="button"],
    input[type="submit"],
    input[type="reset"],
    button,
    .button {
        -webkit-appearance: none;
        display: inline-block;
        text-decoration: none;
        cursor: pointer;
        border: 0;
        border-radius: 5px;
        background: #94c477;
        color: #fff !important;
        font-weight: 700;
        outline: 0;
        font-size: 1.1em;
        padding: 0.65em 1.5em 0.65em 1.5em;
        text-align: center;
        -moz-transition: background-color .25s ease-in-out;
        -webkit-transition: background-color .25s ease-in-out;
        -ms-transition: background-color .25s ease-in-out;
        transition: background-color .25s ease-in-out;
    }

    /*input[type="button"]:hover,
    input[type="submit"]:hover,
    input[type="reset"]:hover,
    button:hover,
    .button:hover {
        background: #24b886;
    }*/

    input[type="button"]:active,
    input[type="submit"]:active,
    input[type="reset"]:active,
    button:active,
    .button:active {
        background: #049866;
    }

    input[type="button"].alt,
    input[type="submit"].alt,
    input[type="reset"].alt,
    button.alt,
    .button.alt {
        background: #0b871e;
    }

    /*
    input[type="button"].alt:hover,
    input[type="submit"].alt:hover,
    input[type="reset"].alt:hover,
    button.alt:hover,
    .button.alt:hover {
        background: #066514;
    }*/

    input[type="button"].alt:active,
    input[type="submit"].alt:active,
    input[type="reset"].alt:active,
    button.alt:active,
    .button.alt:active {
        background: #151112;
    }

    input[type="button"].icon:before,
    input[type="submit"].icon:before,
    input[type="reset"].icon:before,
    button.icon:before,
    .button.icon:before {
        opacity: 0.35;
        position: relative;
        top: 0.05em;
        margin-right: 0.75em;
    }

    input[type="button"].large,
    input[type="submit"].large,
    input[type="reset"].large,
    button.large,
    .button.large {
        font-size: 1.5em;
        padding: 0.75em 1.5em 0.75em 1.5em;
    }

    input[type="button"].large,
    input[type="submit"].large,
    input[type="reset"].large,
    button.large,
    .button.large {
        font-size: 1.1em;
        padding: 0.65em 1.5em 0.65em 1.5em;
    }

    .out {
        width: 400px;
        height: 550px;
        margin: 10px;
        padding: 10px;
        border: none;
    }

    .line {
        border: solid 1px #dddddd;
        border-radius: 5px;
    }

    p{
        color:#5d5d5d;
    }
</style>
<body>
<!--SMS 인증 페이지-->
<div style="width: 75%; margin-left:45px;">
    <!--제목-->
    <div>
        <h3 style="text-align:center">SMS 인증으로 아이디 찾기</h3>
        <hr>
    </div>

        <form action="/member/resultFindId" id="resultFindId" name="resultFindId">
            <p style="margin:0;">인증번호</p>

            <!--인증번호 입력 칸-->
            <input class="line" type="text" name="certifyNum" id="certifyNum" placeholder="숫자 6자리 입력" style="width:100%; height:50px;"/>
        <br>

        <div style="text-align: center;">
            <input type="button" value="완료" onclick="check()" style="width:150px; height:50px;"/>

            <!--띄어쓰기용 스판태그-->
            <span style="padding:1px"></span>

            <input type="button" value="취소" onclick="window.close()" style="width:150px; height:50px;"/>
            <input type="text" id="result" name="result" th:value="${result}" style="display: none">
        </div>

        </form>
</div>
</body>
<script src="/js/findId.js"></script>
<script src="/js/jquery.min.js"></script>
<script type="text/javascript"></script>
<script th:inline="javascript">
    let random = [[${random}]];

    console.log(random);

    function check() {
        let form = document.resultFindId;

        if(!form.certifyNum.value){
            alert("인증번호를 입력해주세요.");
            return;
        }

        var certifyNum = $('#certifyNum').val();
        /* console.log(typeof(certifyNum)); */
        //console.log(certifyNum);

        if (random === certifyNum) {
            alert("성공");
        } else {
            alert("실패");
            window.close();
        }

        form.submit();
    }
</script>
<!--<script>-->
<!--    // var randomNum = "";-->
<!--    // console.log(randomNum);-->
<!--    // var randomId = "";-->
<!--    // console.log(randomId);-->
<!--    // function check(){-->
<!--    //     var certifyNum = $('#certifyNum').val();-->
<!--    //     /* console.log(typeof(certifyNum)); */-->
<!--    //     console.log(certifyNum);-->
<!--    //     if(randomNum === certifyNum){-->
<!--    //         alert("성공");-->
<!--    //     }else{-->
<!--    //         alert("실패");-->
<!--    //         window.close();-->
<!--    //     }-->


<!--        /* var url = "${pageContext.request.contextPath}/app/member/searchId.jsp";-->
<!--    var name = "_parent";-->
<!--    var option = "width=450, height=600, top=100, left=200, location=no";-->

<!--    window.open(url, name, option); */-->
<!--    }-->
<!--</script>-->
</html>